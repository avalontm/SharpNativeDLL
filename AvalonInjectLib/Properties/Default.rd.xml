<Directives xmlns="http://schemas.microsoft.com/netfx/2013/01/metadata">
	<Application>
		<!-- Configuración principal para tu ensamblado -->
		<Assembly Name="AvalonInjectLib" Dynamic="Required All">
			<Type Name="AvalonInjectLib.RemoteFunctionExecutor" Dynamic="Required All">
				<Method Name="CallFunction" Dynamic="Required" />
				<Method Name="ExecuteFunctionDirect" Dynamic="Required" />
				<Method Name="ExecuteFunctionRemote" Dynamic="Required" />
				<Method Name="CreateShellcode" Dynamic="Required" />
				<Method Name="GetParameterBytes" Dynamic="Required" />
			</Type>

			<Type Name="AvalonInjectLib.RemoteFunctionException" Dynamic="Required All" Serialize="Required All"/>
			<Type Name="AvalonInjectLib.RemoteFunctionExecutor+Parameter" Dynamic="Required All" Serialize="Required All"/>
			<Type Name="AvalonInjectLib.RemoteFunctionExecutor+ParamType" Dynamic="Required All" Serialize="Required All"/>
		</Assembly>

		<!-- Soporte para MoonSharp (Lua interpreter) -->
		<Assembly Name="MoonSharp.Interpreter" Dynamic="Required All">
			<Type Name="MoonSharp.Interpreter.Script" Dynamic="Required All">
				<Method Name="LoadString" Dynamic="Required" />
				<Method Name="Call" Dynamic="Required" />
				<Method Name="DoString" Dynamic="Required" />
			</Type>
			<Type Name="MoonSharp.Interpreter.DynValue" Dynamic="Required All" Serialize="Required All"/>
			<Type Name="MoonSharp.Interpreter.Table" Dynamic="Required All"/>
			<Type Name="MoonSharp.Interpreter.Closure" Dynamic="Required All"/>
			<Type Name="MoonSharp.Interpreter.CallbackFunction" Dynamic="Required All"/>
			<Type Name="MoonSharp.Interpreter.SymbolRef" Dynamic="Required All"/>
		</Assembly>

		<!-- Soporte para StbImageSharp -->
		<Assembly Name="StbImageSharp" Dynamic="Required All">
			<Type Name="StbImageSharp.ImageResult" Dynamic="Required All" Serialize="Required All"/>
			<Type Name="StbImageSharp.ImageReader" Dynamic="Required All">
				<Method Name="LoadFromMemory" Dynamic="Required"/>
				<Method Name="LoadFromStream" Dynamic="Required"/>
			</Type>
		</Assembly>

		<!-- Soporte para StbTrueTypeSharp -->
		<Assembly Name="StbTrueTypeSharp" Dynamic="Required All">
			<Type Name="StbTrueTypeSharp.StbTrueType" Dynamic="Required All">
				<Method Name="CreateFont" Dynamic="Required"/>
				<Method Name="GetGlyphInfo" Dynamic="Required"/>
			</Type>
			<Type Name="StbTrueTypeSharp.StbTrueType.stbtt_fontinfo" Dynamic="Required All" MarshalStructure="Required All"/>
			<Type Name="StbTrueTypeSharp.StbTrueType.stbtt_packedchar" Dynamic="Required All" MarshalStructure="Required All"/>
		</Assembly>

		<!-- Soporte esencial para P/Invoke y manipulación de memoria -->
		<Assembly Name="System.Private.CoreLib">
			<!-- Marshalling avanzado -->
			<Type Name="System.Runtime.InteropServices.Marshal"
				  MarshalStructure="Required All"
				  MarshalDelegate="Required All"
				  Dynamic="Required All"/>

			<!-- Tipos de punteros críticos -->
			<Type Name="System.IntPtr" MarshalStructure="Required All" Serialize="Required All"/>
			<Type Name="System.UIntPtr" MarshalStructure="Required All" Serialize="Required All"/>

			<!-- Operaciones unsafe -->
			<Type Name="System.Runtime.CompilerServices.Unsafe" Dynamic="Required All"/>

			<!-- Soporte para delegates nativos -->
			<Type Name="System.Delegate" Dynamic="Required All" MarshalDelegate="Required All"/>
			<Type Name="System.MulticastDelegate" Dynamic="Required All" MarshalDelegate="Required All"/>
		</Assembly>

		<!-- Soporte para API de Windows (kernel32) -->
		<Assembly Name="System.Runtime.InteropServices">
			<Type Name="System.Runtime.InteropServices.DllImportAttribute" Dynamic="Required All"/>
		</Assembly>

		<!-- Configuración para generación dinámica de código -->
		<Assembly Name="System.Reflection.Emit">
			<Type Name="System.Reflection.Emit.DynamicMethod" Dynamic="Required All"/>
		</Assembly>

		<!-- Soporte para llamadas a API nativas -->
		<Assembly Name="System.Runtime.InteropServices.RuntimeInformation">
			<Type Name="System.Runtime.InteropServices.RuntimeInformation" Dynamic="Required All"/>
		</Assembly>

		<!-- Soporte para procesos e inyección -->
		<Assembly Name="System.Diagnostics.Process">
			<Type Name="System.Diagnostics.Process" Dynamic="Required All" Serialize="Required All">
				<Method Name=".ctor" Dynamic="Required"/>
				<Method Name="Start" Dynamic="Required"/>
				<Method Name="Kill" Dynamic="Required"/>
			</Type>
			<Type Name="System.Diagnostics.ProcessStartInfo" Dynamic="Required All" Serialize="Required All"/>
		</Assembly>

		<!-- Soporte para serialización (si es necesaria) -->
		<Assembly Name="System.Text.Json">
			<Type Name="System.Text.Json.JsonSerializer" Dynamic="Required All">
				<Method Name="Serialize" Dynamic="Required"/>
				<Method Name="Deserialize" Dynamic="Required"/>
			</Type>
			<Type Name="System.Text.Json.Serialization.JsonConverter" Dynamic="Required All"/>
			<Type Name="System.Text.Json.Serialization.JsonConverter`1" Dynamic="Required All"/>
		</Assembly>

		<!-- Soporte para colecciones genéricas -->
		<Assembly Name="System.Collections">
			<Type Name="System.Collections.Generic.Dictionary`2" Dynamic="Required All" Serialize="Required All"/>
			<Type Name="System.Collections.Generic.List`1" Dynamic="Required All" Serialize="Required All"/>
		</Assembly>

		<!-- Configuración crítica para NativeAOT -->
		<Assembly Name="System.Private.Reflection.Core">
			<Type Name="System.Reflection.RuntimeMethodInfo" Dynamic="Required All"/>
			<Type Name="System.Reflection.RuntimeType" Dynamic="Required All"/>
		</Assembly>

		<!-- Soporte para excepciones nativas -->
		<Assembly Name="System.Private.CoreLib">
			<Type Name="System.Exception" Serialize="Required All" Dynamic="Required All"/>
			<Type Name="System.SystemException" Serialize="Required All" Dynamic="Required All"/>
		</Assembly>
	</Application>
</Directives>